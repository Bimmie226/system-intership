# Cấu Hình Self-Signed WordPress Ubuntu
## 1. Tạo Self-Signed Certificate

  ```bash
  sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
  -keyout /etc/ssl/private/mywp.key \
  -out /etc/ssl/certs/mywp.crt \
  -subj "/CN=192.168.70.101"
  ```

  - `-x509`: tạo chứng chỉ X.509 (thường dùng cho SSL/TLS).

  - `-nodes`: không mã hóa key bằng passphrase (ngăn Apache hỏi passphrase khi khởi động).

  - `-days 365`: chứng chỉ có hiệu lực 1 năm.

  - `-newkey rsa:2048`: tạo key RSA 2048-bit mới.

  - `-keyout` và `-out`: đường dẫn lưu key và certificate.

  - `/CN=bimmie.com`: Common Name = tên domain của bạn.

## 2. Import Certificate vào hệ thống 

```bash
cp /etc/ssl/certs/mywp.crt /usr/local/share/ca-certificates/
sudo update-ca-certificates
```

- Copy certificate vào thư mục CA của Ubuntu.

- `update-ca-certificates` sẽ thêm certificate vào trusted store của hệ thống.

- Sau bước này, các trình duyệt trên hệ thống (hoặc các tool như wget, curl) sẽ tin tưởng chứng chỉ này.

## 3. Cấu hình Apache
- Vào file config ssl của trang WP của bạn(mặc định: `/etc/apache2/sites-available/default-ssl.conf`)

  ![alt text](../images/self_signed_01.png)
  
## 4. Bật module SSL & site SSL

```bash
sudo a2enmod ssl
sudo a2ensite default-ssl.conf
sudo systemctl restart apache2
``` 

## 5. Kiểm tra
### Trên Server
  
  ![alt text](../images/self_signed_04.png)

### Trên mấy window
- Tạo 1 folder để lưu file `.crt` từ ubuntu, sau đó mở trên terminal và dùng `scp` để lấy file `.crt` về:

  ```bash
  scp root@192.168.70.101:/etc/ssl/certs/mywp.crt .
  ```

- Import Certificate vào Trusted Root CA:

  - Bước 1: Double-click `mywp.crt`

    ![alt text](../images/self_sigend_05.png)

  - Bước 2: Chọn `Install Certificate`

    ![alt text](../images/self_signed_06.png)

  - Bước 3: Chọn: `Local Machine` `Place all certificates in:→ Trusted Root Certification Authorities`

    ![alt text](../images/self_signed_07.png)

  - Bước 4: Chọn `next` -> `finish`

    ![alt text](../images/self_signed_08.png)