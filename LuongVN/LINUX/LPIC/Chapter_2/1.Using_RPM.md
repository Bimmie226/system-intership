# USING RPM
Được phát triển bởi Red Hat, cho phép cài đặt, chỉnh sửa và gỡ bỏ các gói phần mềm.

## RPM Distributions and Conventions
### Cấu trúc tên file RPM:
File RPM có đuôi `.rpm` và tuân theo định dạng:
```pgsql
PACKAGE-NAME-VERSION-RELEASE.ARCHITECTURE.rpm
```
- **PACKAGE-NAME**: Tên gọi phần mềm(Ví dụ `emacs`) 
  
  Lưu ý: tên gói có thể khác nhau giữa các bản phân phối, và không nhất thiết trùng với tên chương trình.
- **VERSION**: Phiên bản của phần mềm, thể hiện các thay đổi lớn hơn so với các phiên bản cũ.

  Ví dụ: `1.13.1`.
- **RELEASE**: Số phát hành, thể hiện thay đổi nhưng nhỏ hơn so với version
- **ARCHITECTURE**: Kiến trúc CPU

  Ví dụ: `x86_64`: bộ xử lý 64 bit

### Loại gói RPM
Có hai loại gói RPM:
1) **Binary RPM**: Chứa chương trình đã biên dịch - dùng để cài đặt và chạy trực tiếp.
2) **Source RPM(SRPM)**: chứa mã nguồn, dùng để phân tích hoặc tùy chỉnh gói phần mềm.
          -> Gói SRPM có chữ `src` trong phần kiến trúc file.

## The rpm Command Set
### Công cụ chính `rpm`
- `rpm` là chương trình dòng lệnh dùng để cài đặt, gỡ bỏ và kiểm tra các gói phần mềm RPM.
- Cú pháp cơ bản:
  ```bash
  rpm ACTION [OPTION] PACKAGE-FILE
  ```
  -> Trong đó, ACTION là hành động bạn muốn thực hiện (cài đặt, gỡ, kiểm tra…). 

### Các ACTION phổ biến
| Viết tắt | Dạng đầy đủ | Mô tả                                                           |
| -------- | ----------- | --------------------------------------------------------------- |
| `-e`     | `--erase`   | Gỡ bỏ gói phần mềm đã cài đặt                                   |
| `-F`     | `--freshen` | Cập nhật gói **chỉ khi** hệ thống đã có phiên bản cũ hơn        |
| `-i`     | `--install` | Cài đặt gói phần mềm mới từ file `.rpm`                         |
| `-q`     | `--query`   | Kiểm tra xem gói đã được cài đặt hay chưa                       |
| `-U`     | `--upgrade` | Cài đặt **hoặc nâng cấp** gói (nếu đã có phiên bản cũ hơn)      |
| `-V`     | `--verify`  | Xác minh xem các file của gói có còn đầy đủ và nguyên vẹn không |

### Installing and Updating RPM Packages
1) Điều kiện để sử dụng lệnh `rpm`
- Trước khi dùng lệnh `rpm`, phải cài đặt file `.rpm` đã tải về máy.
- Lệnh được dùng:
  - `rpm -i` -> cài đặt mới một gói phần mềm.
  - `rpm -U` -> cài đặt hoặc cập nhật nếu gói đã có sẵn.
  
2) Quyền thực thi(superuser privileges)
- Để cài đặt hoặc cập nhật phần mềm, bạn phải có quyền quản trị(root).
- Có thể:
  - Đặng nhập bằng tk root
  - Dùng lệnh `sudo`(nếu tk được cấp quyền này)
  
### Querying RPM Packages
Lệnh `rpm -q` - Truy vấn thông tin gói RPM

- Lệnh `rpm` với option `-q`(query) dùng để kiểm tra thông tin các gói phần mềm đã cài đặt trên hệ thống.