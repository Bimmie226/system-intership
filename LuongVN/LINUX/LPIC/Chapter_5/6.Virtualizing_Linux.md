# VIRTUALIZING LINUX
## Looking at Virtual Machines
- Virtual Machines (VMs) là các hệ thống máy tính được mô phỏng, xuất hiện và hoạt động như các máy vật lý đối với người sử dụng. Quá trình tạo ra các máy ảo này được gọi là ảo hóa.

### Managing VMs
- Công cụ phần mềm chính được dùng để tạo và quản lý máy ảo (VMs) được gọi là hypervisor
- Hypervisor có 2 loại cơ bản: Type 1 và Type 2

1) Type 2
- Type 2 hypervisor là 1 ứng dụng phần mềm hoạt động giữa máy ảo được tạo ra và hệ thống vật lý nơi hypervisor đang chạy
- Type 2 cung cấp một hoặc nhiều môi trường ảo hóa, hay máy ảo(VMs)
- Mỗi máy ảo có hệ điều hành riêng và có thể chạy các ứng dụng khác nhau trên đó
- Hệ điều hành của máy chủ có thể khác hoàn toàn hệ điều hành của máy ảo
- 1 số loại type 2 phổ biến:
  - VMware Workstation
  - Oracle VirtualBox

2) Type 1
- Là phần mềm ảo hóa chạy trực tiếp trên phần cứng máy tính, không cần qua hệ điều hành trung gian
- 1 số type 1 phổ biến:
  - KVM
  - Xen
  - Hyper-V
- Khi bật máy, type1 được nạp ngay sau BIOS, trực tiếp điều khiển CPU, RAM, ổ cứng, ...
- Sau đó, nó tạo và quản lý các máy ảo (VMs)
- Mỗi máy ảo có thể chạy 1 hệ điều hành riêng

### Creating a Virtual Machine
- Tạo máy ảo(VM):
  - Cấu hình thông số VM trong hypervisor
  - Dùng file ISO để cài đặt hệ điều hành
- Cấu trúc máy ảo:
  - 1 VM gồm 1 hoặc nhiều file lưu trên host machine chứa:
    - Cấu hình(RAM, CPU, disk, ...)
    - Dữ liệu hệ điều hành và ứng dụng

## Understanding Containers
- Container là thực thể ảo, khác với VM:
  - VM chứa toàn bộ hệ điều hành riêng
  - Container chỉ tập trung vào một ứng dụng hoặc môi trường cụ thể
- Container không dùng hypervisor, mà được quản lý bởi container engine(như docker)
- Tất cả container dùng chung hệ điều hành của host, nhưng mỗi container có thư viện và file riêng để chạy ứng dụng của nó.
- Có 2 loại container chính:
  - `Application Container`: Chạy 1 ứng dụng hoặc stack(như web server)
  - `Operating System Container`: Cung cấp một môi trường Linux đầy đủ, tách biệt với hệ thống host.
    - Gần giống với VM nhưng nhẹ hơn.

## Looking at Infrastructure as a Service
- IaaS (Infrastructure as a Service): Nhà cung cấp (CSP: Cloud Service Provider) cung cấp toàn bộ hạ tầng ảo hóa - gồm máy chủ, đĩa, mạng, trung tâm dữ liệu và hypervisor - qua internet.
- Giúp doanh nghiệp giảm chi phí phần cứng, điện, và bảo trì.
- Nhà cung cấp IaaS phổ biến:
  - AWS(Amazon Web Service)
  - Google Cloud
  - Micorsoft Azure
- Một số thuật ngữ quan trọng:
  - `Computing Instance`:
    - Là 1 máy ảo hoặc container chạy trên nền tảng đám mây
  - `Cloud type`:
    - Public Cloud: Mở công khai qua internet, chạy hoàn toàn trên cơ sở hạ tầng của CSP
    - Private Cloud: chỉ dùng nội bộ
    - Hybrid Cloud: kêt hợp giữa cloud của CSP và hạ tầng cục bộ của doanh nghiệp
  - `Elasticity`(Co giãn)
    - Tự động tăng/giảm tài nguyên hoặc số lượng instance theo nhu cầu
  - `Load Balancing`
    - Phân phối lưu lượng giữa nhiều instance để tránh quá tải
  - `Management Console / Portal`
    - Giao diện web để tạo, quản lý, giám sát instance, chọn loại lưu trữ, cấu hình mạng, ...
  - `Block Storage vs Object Storage`:
    - Block Storage: Giống ổ đĩa vật lý, gắn vào instance, phải mount mới dùng được
    - Object Storage: Lưu trữ qua web hoặc console, có thể lưu mọi loại dữ liệu và được CSP tự động bảo vệ
  - `Remote Instance Access`
    - Truy cập trực tiếp vào instance qua SSH, thường dùng SSH key thay vì mật khẩu