# LOOKING AT BOOT LOADERS
## Boot Loader Principles
- GRUB (GRand Unified Bootloader) ra đời năm 1999, là trình nạp khởi động mạnh mẽ và linh hoạt cho Linux.
- Đến năm 2005, GRUB2 ra đời — viết lại hoàn toàn so với GRUB Legacy, với nhiều tính năng nâng cao như:
  - Hỗ trợ nạp module driver phần cứng.
  - Thay đổi tùy chọn menu khởi động linh hoạt, tùy theo điều kiện hệ thống (ví dụ: có gắn ổ cứng ngoài hay không).

## Using GRUB Legacy as the Boot Loader
- GRUB Legacy dùng file cấu hình để hiển thị menu khởi động và điều khiển cách hệ thống nạp hệ điều hành.
File cấu hình là `/boot/grub/menu.lst` hoặc `grub.conf` (tùy bản phân phối Linux).

## Using GRUB 2 as the Boot Loader
### 1. GRUB2 là gì
GRUB2(GNU GRand Unified Bootloader version 2) là trình nạp khởi động(boot loader) mặc định của hầu hết bản phân phối linux hiện nay.

Hỗ trợ:
- Hệ thống UEFI và BIOS
- Hệ thống tệp (ext4, ...)
- Menu đồ họa, mật khẩu, script logic(if/else)
- Tự động update khi cài kernel mới

### 2. Vị trí file config
| Firmware | Đường dẫn `grub.cfg`                  |
| -------- | ------------------------------------- |
| **BIOS** | `/boot/grub/` hoặc `/boot/grub2/`     |
| **UEFI** | `/boot/efi/EFI/<tên-distro>/grub.cfg` |

### 3. Các file cấu hình liên quan

| File                  | Mục đích                                                                   |
| --------------------- | -------------------------------------------------------------------------- |
| `/boot/grub/grub.cfg` | File cấu hình chính (được **tự động tạo**, không chỉnh tay)                |
| `/etc/default/grub`   | File cấu hình **tùy chọn chung** (timeout, theme, kernel params, …)        |
| `/etc/grub.d/`        | Thư mục chứa **script cấu hình riêng từng mục khởi động**                  |
| `/boot/grub/grubenv`  | File lưu biến môi trường (như mục boot mặc định, trạng thái boot trước đó) |

### 4. Cách cập nhật GRUB2 trên Ubuntu
- Khi chỉnh `/etc/default/grub` hoặc thêm hệ điều hành mới, phải tái tạo file `frub.cfg`

  ```bash
  sudo update-grub
  ```

## Adding Kernel Boot Parameters
