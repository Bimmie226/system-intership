# MANAGING USER AND GROUP
- DAC (Discretionary Access Control) là mô hình kiểm soát truy cập truyền thống trong Linux
- Trong mô hình này, quyền truy cập vào tệp hoặc tài nguyên phụ thuộc vào: 
  - User ID
  - Group ID

## Configuring User Accounts

Các file cấu hình khi tạo user:

### `/etc/login.defs`

- Chứa các quy tắc mặc định toàn hệ thống cho tài khoản người dùng

- Ví dụ:

  | Directive                    | Ý nghĩa                                          |
  | ---------------------------- | ------------------------------------------------ |
  | `UID_MIN`, `UID_MAX`         | Khoảng UID cho tài khoản người dùng thông thường |
  | `SYS_UID_MIN`, `SYS_UID_MAX` | Khoảng UID cho tài khoản hệ thống (daemons)      |
  | `PASS_MAX_DAYS`              | Mật khẩu có hiệu lực tối đa bao lâu              |
  | `PASS_MIN_DAYS`              | Số ngày tối thiểu trước khi được đổi mật khẩu    |
  | `PASS_WARN_AGE`              | Số ngày cảnh báo trước khi mật khẩu hết hạn      |
  | `CREATE_HOME yes/no`         | Có tạo thư mục home mặc định không               |
  | `UMASK 077`                  | Quyền mặc định của file khi tạo                  |
  | `ENCRYPT_METHOD SHA512`      | Phương thức mã hóa mật khẩu                      |

### `/etc/default/useradd`

- Chứa giá trị mặc định cho lệnh `useradd`

- Ví dụ:

  ```bash
  GROUP=100
  HOME=/home
  INACTIVE=-1
  EXPIRE=
  SHELL=/bin/bash
  SKEL=/etc/skel
  CREATE_MAIL_SPOOL=yes
  ```

  | Directive           | Ý nghĩa                                                  |
  | ------------------- | -------------------------------------------------------- |
  | `HOME`              | Thư mục gốc của các user home (thường là `/home`)        |
  | `SHELL`             | Shell mặc định khi tạo user                              |
  | `SKEL`              | “Skeleton” – thư mục mẫu chứa file cấu hình cho user mới |
  | `INACTIVE`          | Số ngày sau khi mật khẩu hết hạn mà chưa đổi thì bị khóa |
  | `EXPIRE`            | Ngày hết hạn tài khoản                                   |
  | `CREATE_MAIL_SPOOL` | Có tạo hộp thư không                                     |

### `/etc/skel/`

- Thư mục `/etc/skel` chứa các tệp và thư mục được tự động sao chép sang người dùng mới khi nó được tạo từ lệnh `useradd` Điều này đảm bảo rằng tất cả các người dùng được cài đặt sẽ có môi trường nội bộ giống nhau.

### `/etc/passwd`
- file lưu trữ thông tin người dùng

### `/etc/shadow`
- file lưu trữ mật khẩu dưới dạng mã hóa 
- `$1$ - MD5`, `$5$ - SHA-256`, `$6$ - SHA-512`

## Configuring Group