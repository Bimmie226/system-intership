# STORAGE BASICS
Lưu trữ dữ liệu trên máy tính:

1) Hard Disk Drive(HDD)
- Thiết bị vật lý, lưu dữ liệu bằng từ tính trên các đĩa quay.
- Sử dụng đầu đọc/ghi di động để đọc và ghi dữ liệu

2) Solid-State Drive(SSD)
- Lưu dữ liệu bằng mạch điện tử, không có bộ phận cơ học

3) Linux và ổ cứng/SSD
- Linux xử lý cả HDD và SSD theo cùng 1 cách, chủ yếu dựa vào cổng kết nối
- Việc quản lý, đọc/ghi dữ liệu không phụ thuộc nhiêu vào loại ổ, mà phụ thuộc vào driver và giao thức kết nối.

## Type of Drives
Các loại kết nối ổ đĩa phổ biến trên Linux

1) PATA - Parallel Advanced Technology Attachment
2) SATA - Serial Advanced Technology Attachment
3) SCSI - Small Compyter System Interface

## Drive Partitions
- Partition là một khu việc riêng biệt trên ổ đĩa được hệ điều hành coi như một `ổ đĩa ảo`
- Giúp tách dữ liệu hệ thống và dữ liệu người dùng

## Automatic Drive Detection
- Hệ thống linux phát hiện ra các ổ đĩa và phân vùng tại thời điểm khởi động và gán cho mỗi ổ đĩa một tên tệp thiết bị duy nhất.
- Sử dụng `udev` chạy ở chế độ nền(background), tự dộng phát hiện phần cứng mới được kết nối với hệ thống linux đang chạy

# Storage Alternatives
## Multipath
- multipath cho phép thiết lập nhiều đường kết nối giữa hệ thống linux và thiết bị lưu trữ mạng
- Các công cụ chính:
  - `dm-multipath`: module kernel cung cấp hỗ trợ multipath
  - `multipath`: Lệnh CLI để xem các thiết bị multipath
  - `multipathd`: Tiến trình nền giám sát các đường kết nối, tự động kích hoạt/hủy kích hoạt khi cần
- Multipath dùng thư mục `/dev/mapper`

## Logical Volume Manager(LVM)
- LVM (Logical Volume Management) là một công cụ quản lý không gian lưu trữ trên hệ điều hành Linux. Nó cho phép quản lý các thiết bị lưu trữ bằng cách chia không gian đĩa cứng thành các Logical Volume (LV), giúp việc thay đổi kích thước hoặc quản lý trở nên linh hoạt và dễ dàng hơn.

- LVM hoạt động dựa trên ba thành phần chính:

  - `Physical Volume (PV)`: Là các ổ đĩa vật lý hoặc phân vùng được sử dụng để tạo không gian lưu trữ.

  - `Volume Group (VG)`: Là tập hợp các PV, cung cấp một không gian lưu trữ lớn hơn và linh hoạt hơn.

  - `Logical Volume (LV)`: Là các phân vùng logic được tạo từ VG, có thể được định dạng và sử dụng như các phân vùng thông thường.

## Using RAID Technology
- `RAID - Redundant Arrays of Independent Disks` là công nghệ kết hợp nhiều ổ đĩa thành một ổ ảo để tăng hiệu năng truy cập dữ liệu.
- Một số RAID phổ biến:

| RAID | Dung lượng thực tế | Khả năng chịu hỏng             |
| ---- | ------------------ | ------------------------------ |
| 0    | Tổng các ổ         | 0 ổ                            |
| 1    | 1 ổ                | 1 ổ (hoặc nhiều ổ mirror)      |
| 5    | Tổng - 1 ổ         | 1 ổ                            |
| 6    | Tổng - 2 ổ         | 2 ổ                            |
| 10   | Tổng/2             | Tùy mirror (1 ổ trong mỗi cặp) |
